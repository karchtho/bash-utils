# Configuration spécifique pour l'environnement TEST
# ===================================================

# Modules PHP pour les tests
ENVIRONMENT_PHP_MODULES="php-json php-xml php-sqlite3 php-phpunit"

# Configuration PHP.ini pour les tests
ENVIRONMENT_PHP_CONFIG="
; Configuration PHP pour TEST
error_reporting = E_ALL
display_errors = Off
display_startup_errors = Off
log_errors = On
log_errors_max_len = 1024
error_log = /var/log/php_errors.log

; Debug limité
html_errors = Off

; Limites modérées pour les tests
memory_limit = 256M
max_execution_time = 120
max_input_time = 120
post_max_size = 32M
upload_max_filesize = 32M

; Session sécurisée pour les tests
session.cookie_secure = Off
session.cookie_httponly = On
session.use_strict_mode = 1

; OPcache activé mais avec revalidation fréquente
opcache.enable = 1
opcache.enable_cli = 1
opcache.revalidate_freq = 60
opcache.validate_timestamps = 1
"

# Outils pour les tests
ENVIRONMENT_TOOLS="composer phpunit git"

# Pas de Xdebug en test (performance)
ENVIRONMENT_XDEBUG_CONFIG=""

# Configuration Apache pour test
ENVIRONMENT_APACHE_CONFIG="
# Configuration Apache pour test
ServerTokens Prod
ServerSignature Off
LogLevel warn
"

# Configuration MySQL pour test
ENVIRONMENT_MYSQL_CONFIG="
# Configuration MySQL pour test
general_log = 0
slow_query_log = 1
slow_query_log_file = /var/log/mysql/slow.log
long_query_time = 2
"